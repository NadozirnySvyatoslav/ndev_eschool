<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="0">

    <record model="ir.module.category"
            id="ndev_eschool.module_category_school">
        <field name="description">Helps you handle your e-school needs</field>
        <field name="sequence">7</field>
        <field name="name">E-school</field>
    </record>

    <record id="group_school_manager" model="res.groups">
        <field name="name">E-school Administrator</field>
        <field name="category_id" ref="ndev_eschool.module_category_school"/>
        <field name="users"
               eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"
        />
    </record>

    <record id="group_school_teacher" model="res.groups">
        <field name="name">E-school Teacher</field>
        <field name="category_id" ref="ndev_eschool.module_category_school"/>
        <field name="users"
               eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"
        />
    </record>

    <record id="group_school_pupil" model="res.groups">
        <field name="name">E-school Pupil</field>
        <field name="category_id" ref="ndev_eschool.module_category_school"/>
    </record>

    <record id="group_school_parent" model="res.groups">
        <field name="name">E-school Parent</field>
        <field name="category_id" ref="ndev_eschool.module_category_school"/>
    </record>


    <record id="rule_eschool_parent_journal_line" model="ir.rule">
        <field name="name">Limit parent access to pupil's scores</field>
        <field name="model_id" ref="ndev_eschool.model_eschool_journal_line"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('pupil_id.parent_ids', '=',
            user.partner_id.id)]
        </field>
        <field name="groups" eval="[(4, ref('group_school_parent'))]"/>
    </record>
</odoo>
